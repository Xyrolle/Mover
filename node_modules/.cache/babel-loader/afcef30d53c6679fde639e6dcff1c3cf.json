{"ast":null,"code":"import { call, takeEvery, put, select } from \"redux-saga/effects\";\nimport { MOVIES } from \"../constants\";\nimport { setMovies } from \"../actions\";\nimport { fetchPopularMovies, fetchMoviesByKeyword } from \"../api/index\";\nexport const getKeyword = state => state.keyword;\nexport function* handleFetchPopularMovies() {\n  const movies = yield call(fetchPopularMovies);\n  yield put(setMovies(movies));\n}\nexport function* handleFetchByKeyword() {\n  const keyword = yield select(getKeyword);\n  const movies = yield call(() => fetchMoviesByKeyword(keyword));\n  yield put(setMovies(movies));\n}\nexport default function* watchMoviesLoad() {\n  yield takeEvery(MOVIES.FETCH, handleFetchPopularMovies); // yield takeEvery(MOVIES.FETCH, han);\n}","map":{"version":3,"sources":["/Users/xyrolle/Documents/sagaapi/src/sagas/moviesSaga.js"],"names":["call","takeEvery","put","select","MOVIES","setMovies","fetchPopularMovies","fetchMoviesByKeyword","getKeyword","state","keyword","handleFetchPopularMovies","movies","handleFetchByKeyword","watchMoviesLoad","FETCH"],"mappings":"AAAA,SAASA,IAAT,EAAeC,SAAf,EAA0BC,GAA1B,EAA+BC,MAA/B,QAA6C,oBAA7C;AAEA,SAASC,MAAT,QAAuB,cAAvB;AACA,SAASC,SAAT,QAA0B,YAA1B;AAEA,SAASC,kBAAT,EAA6BC,oBAA7B,QAAyD,cAAzD;AAEA,OAAO,MAAMC,UAAU,GAAIC,KAAD,IAAWA,KAAK,CAACC,OAApC;AAEP,OAAO,UAAUC,wBAAV,GAAqC;AAC1C,QAAMC,MAAM,GAAG,MAAMZ,IAAI,CAACM,kBAAD,CAAzB;AACA,QAAMJ,GAAG,CAACG,SAAS,CAACO,MAAD,CAAV,CAAT;AACD;AAED,OAAO,UAAUC,oBAAV,GAAiC;AACtC,QAAMH,OAAO,GAAG,MAAMP,MAAM,CAACK,UAAD,CAA5B;AACA,QAAMI,MAAM,GAAG,MAAMZ,IAAI,CAAC,MAAMO,oBAAoB,CAACG,OAAD,CAA3B,CAAzB;AACA,QAAMR,GAAG,CAACG,SAAS,CAACO,MAAD,CAAV,CAAT;AACD;AAED,eAAe,UAAUE,eAAV,GAA4B;AACzC,QAAMb,SAAS,CAACG,MAAM,CAACW,KAAR,EAAeJ,wBAAf,CAAf,CADyC,CAEzC;AACD","sourcesContent":["import { call, takeEvery, put, select } from \"redux-saga/effects\";\n\nimport { MOVIES } from \"../constants\";\nimport { setMovies } from \"../actions\";\n\nimport { fetchPopularMovies, fetchMoviesByKeyword } from \"../api/index\";\n\nexport const getKeyword = (state) => state.keyword;\n\nexport function* handleFetchPopularMovies() {\n  const movies = yield call(fetchPopularMovies);\n  yield put(setMovies(movies));\n}\n\nexport function* handleFetchByKeyword() {\n  const keyword = yield select(getKeyword);\n  const movies = yield call(() => fetchMoviesByKeyword(keyword));\n  yield put(setMovies(movies));\n}\n\nexport default function* watchMoviesLoad() {\n  yield takeEvery(MOVIES.FETCH, handleFetchPopularMovies);\n  // yield takeEvery(MOVIES.FETCH, han);\n}\n"]},"metadata":{},"sourceType":"module"}