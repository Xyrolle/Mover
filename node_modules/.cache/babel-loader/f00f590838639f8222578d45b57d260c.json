{"ast":null,"code":"import { call, takeEvery, put, select } from \"redux-saga/effects\";\nimport { MOVIES } from \"../constants\";\nimport { setMovies, setError } from \"../actions\";\nimport { fetchPopularMovies, fetchMoviesByKeyword } from \"../api/index\";\nimport { selectKeyword } from \"../selectors\";\nexport function* handleFetchPopularMovies() {\n  try {\n    const movies = yield call(fetchPopularMovies);\n    yield put(setMovies(movies));\n  } catch (error) {\n    yield put(setError(error.toString()));\n  }\n}\nexport function* handleFetchByKeyword() {\n  try {\n    const keyword = yield select(selectKeyword);\n    const movies = yield call(fetchMoviesByKeyword, keyword);\n    yield put(setMovies(movies));\n  } catch (error) {\n    yield put(setError(error.toString()));\n  }\n}\nexport default function* watchMoviesLoad() {\n  yield takeEvery(MOVIES.FETCH_POPULAR, handleFetchPopularMovies);\n  yield takeEvery(MOVIES.FETCH_BY_KEYWORD, handleFetchByKeyword);\n}","map":{"version":3,"sources":["/Users/xyrolle/Documents/sagaapi/src/sagas/moviesSaga.js"],"names":["call","takeEvery","put","select","MOVIES","setMovies","setError","fetchPopularMovies","fetchMoviesByKeyword","selectKeyword","handleFetchPopularMovies","movies","error","toString","handleFetchByKeyword","keyword","watchMoviesLoad","FETCH_POPULAR","FETCH_BY_KEYWORD"],"mappings":"AAAA,SAASA,IAAT,EAAeC,SAAf,EAA0BC,GAA1B,EAA+BC,MAA/B,QAA6C,oBAA7C;AAEA,SAASC,MAAT,QAAuB,cAAvB;AACA,SAASC,SAAT,EAAoBC,QAApB,QAAoC,YAApC;AAEA,SAASC,kBAAT,EAA6BC,oBAA7B,QAAyD,cAAzD;AAEA,SAASC,aAAT,QAA8B,cAA9B;AAEA,OAAO,UAAUC,wBAAV,GAAqC;AAC1C,MAAI;AACF,UAAMC,MAAM,GAAG,MAAMX,IAAI,CAACO,kBAAD,CAAzB;AACA,UAAML,GAAG,CAACG,SAAS,CAACM,MAAD,CAAV,CAAT;AACD,GAHD,CAGE,OAAOC,KAAP,EAAc;AACd,UAAMV,GAAG,CAACI,QAAQ,CAACM,KAAK,CAACC,QAAN,EAAD,CAAT,CAAT;AACD;AACF;AAED,OAAO,UAAUC,oBAAV,GAAiC;AACtC,MAAI;AACF,UAAMC,OAAO,GAAG,MAAMZ,MAAM,CAACM,aAAD,CAA5B;AACA,UAAME,MAAM,GAAG,MAAMX,IAAI,CAACQ,oBAAD,EAAuBO,OAAvB,CAAzB;AACA,UAAMb,GAAG,CAACG,SAAS,CAACM,MAAD,CAAV,CAAT;AACD,GAJD,CAIE,OAAOC,KAAP,EAAc;AACd,UAAMV,GAAG,CAACI,QAAQ,CAACM,KAAK,CAACC,QAAN,EAAD,CAAT,CAAT;AACD;AACF;AAED,eAAe,UAAUG,eAAV,GAA4B;AACzC,QAAMf,SAAS,CAACG,MAAM,CAACa,aAAR,EAAuBP,wBAAvB,CAAf;AACA,QAAMT,SAAS,CAACG,MAAM,CAACc,gBAAR,EAA0BJ,oBAA1B,CAAf;AACD","sourcesContent":["import { call, takeEvery, put, select } from \"redux-saga/effects\";\n\nimport { MOVIES } from \"../constants\";\nimport { setMovies, setError } from \"../actions\";\n\nimport { fetchPopularMovies, fetchMoviesByKeyword } from \"../api/index\";\n\nimport { selectKeyword } from \"../selectors\";\n\nexport function* handleFetchPopularMovies() {\n  try {\n    const movies = yield call(fetchPopularMovies);\n    yield put(setMovies(movies));\n  } catch (error) {\n    yield put(setError(error.toString()));\n  }\n}\n\nexport function* handleFetchByKeyword() {\n  try {\n    const keyword = yield select(selectKeyword);\n    const movies = yield call(fetchMoviesByKeyword, keyword);\n    yield put(setMovies(movies));\n  } catch (error) {\n    yield put(setError(error.toString()));\n  }\n}\n\nexport default function* watchMoviesLoad() {\n  yield takeEvery(MOVIES.FETCH_POPULAR, handleFetchPopularMovies);\n  yield takeEvery(MOVIES.FETCH_BY_KEYWORD, handleFetchByKeyword);\n}\n"]},"metadata":{},"sourceType":"module"}